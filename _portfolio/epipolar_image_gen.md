---
title: "核线影像实时生成设计方案"
collection: projects
type: "摄影测量"
permalink: /portfolio/epipolar_image_gen
venue: "立体影像测图软件"
date: 2011-06-01
location: "西安, 中国"
---

![](/portfolio/epipolar_image_gen/1.png)



  立体测图软件一个核心功能是人工立体测量来跟踪地物的高程; 人工立体测量实际上是作业员带上立体眼镜，通过观察两张软件生成的立体影像，通过实时调整高程来观察地物立体感觉是否清晰。如果清晰，即可得到当前地物高程，否则会出现重影的感觉。其原理如上图，当我们知道两张图像的位姿，通过三角化算法，即可得到物体三维信息。在人工测量的过程中，需要让人观察左右立体像对，产生立体的感觉，从而人工代替算法来获得高程信息。立体像对测量高程的历史可以追溯到19世纪。 当摄影测量买入数字摄影测量时代，利用计算机来模拟立体像对也就成为历史的必然。其中一个核心技术能力是如何能够实时生成核线影像，（在计算机视觉领域，核线影像也叫极线影像）。核线影像采样的常用原理如下图（图像来自百度百科）。



![](/portfolio/epipolar_image_gen/2.jpg)    


左右两张相片，通过给定的高程信息（可以是DEM）来进行核线影像生成。



国内的一些软件厂商给出的方案是利用CUDA加速来进行实时生成。实际上像国际知名的Inpho软件，其并不需要什么算力就可以直接生成。核心其实是利用渲染引擎（例如OpenGL）和核线影像（摄影测量）的知识，不需要任何额外算力即可实现。     


通过结合OpenGL渲染流程，利用计算机视觉射影变换和核线影像（极线影像）原理，进行公式推导，3天时间即设定一种实时渲染方案，达到了实时生成核线影像的能力，且不需要额外算力(CPU,GPU),效果与Inpho软件一致。成果广泛应用到煤航立体测图相关软件中去，解决了困扰工程师几个月的难题。 

